parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"YKIE":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var t=function(){function t(t,e,o){this.active=!1,this.context=t,this.name=e,this.active=o}return t.prototype.update=function(){},t.prototype.destroy=function(){},t}();exports.default=t;
},{}],"s2B3":[function(require,module,exports) {
"use strict";function t(t,n){return t=t.indexOf("#")>=0?t.substring(1,t.length):t,n=Math.floor(255*n/100),"#"+r(t.substring(0,2),n)+r(t.substring(2,4),n)+r(t.substring(4,6),n)}function n(t,n){return t=t.indexOf("#")>=0?t.substring(1,t.length):t,n=Math.floor(255*n/100),"#"+e(t.substring(0,2),n)+e(t.substring(2,4),n)+e(t.substring(4,6),n)}function r(t,n){var r=parseInt(t,16)-n,e=r<0?0:r;return e.toString(16).length>1?e.toString(16):"0"+e.toString(16)}function e(t,n){var r=parseInt(t,16)+n,e=r>255?255:r;return e.toString(16).length>1?e.toString(16):"0"+e.toString(16)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.darken=t,exports.lighten=n;
},{}],"Ycs7":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var t=require("../managers/colorManager"),i=function(){function i(t){this.rotation=0,this.inverted=!1,this.myTurn=!1,this.playerNumber=0,this.matrixPosition=[],this.previousMatrixPosition=[],this.context=t.context,this.x=t.x,this.y=t.y,this.size=t.size,this.color=t.color,this.myTurn=t.myTurn,this.playerNumber=t.playerNumber}return i.prototype.update=function(){this.draw(),this.matrixPosition=this.calculatePositionOnMatrix()},i.prototype.draw=function(){switch(this.context.beginPath(),this.rotation){case 0:this.inverted?this.context.rect(this.x+2*this.size,this.y,this.size,this.size):this.context.rect(this.x,this.y,this.size,this.size),this.context.rect(this.x+this.size,this.y,this.size,this.size),this.context.rect(this.x+this.size,this.y+this.size,this.size,this.size),this.context.rect(this.x+this.size,this.y+2*this.size,this.size,this.size),this.context.closePath();break;case 1:this.inverted?this.context.rect(this.x+2*this.size,this.y+2*this.size,this.size,this.size):this.context.rect(this.x+2*this.size,this.y,this.size,this.size),this.context.rect(this.x+2*this.size,this.y+this.size,this.size,this.size),this.context.rect(this.x+this.size,this.y+this.size,this.size,this.size),this.context.rect(this.x,this.y+this.size,this.size,this.size),this.context.closePath();break;case 2:this.inverted?this.context.rect(this.x,this.y+2*this.size,this.size,this.size):this.context.rect(this.x+2*this.size,this.y+2*this.size,this.size,this.size),this.context.rect(this.x+this.size,this.y+2*this.size,this.size,this.size),this.context.rect(this.x+this.size,this.y+this.size,this.size,this.size),this.context.rect(this.x+this.size,this.y,this.size,this.size),this.context.closePath();break;case 3:this.inverted?this.context.rect(this.x,this.y,this.size,this.size):this.context.rect(this.x,this.y+2*this.size,this.size,this.size),this.context.rect(this.x,this.y+this.size,this.size,this.size),this.context.rect(this.x+this.size,this.y+this.size,this.size,this.size),this.context.rect(this.x+2*this.size,this.y+this.size,this.size,this.size),this.context.closePath()}this.myTurn?this.context.fillStyle=this.color:this.context.fillStyle=t.darken(this.color,10),this.context.fill()},i.prototype.calculatePositionOnMatrix=function(){var t=[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]],i=0,s=[],e=3,h=2,r=0,o=0;switch(this.rotation){case 0:e=3,h=2,this.inverted?(s=[4,6],r=this.size):s=[3,5];break;case 1:e=2,h=3,this.inverted?(s=[4,5],o=this.size):s=[1,2];break;case 2:e=3,h=2,this.inverted?s=[1,3]:(s=[2,4],r=this.size);break;case 3:e=2,h=3,this.inverted?s=[2,3]:(s=[5,6],o=this.size)}for(var n=(this.y+o)/this.size;n<(this.y+o)/this.size+e;n++)for(var c=(this.x+r)/this.size;c<(this.x+r)/this.size+h;c++)++i!=s[0]&&i!=s[1]&&(n>=0&&n<t.length&&c>=0&&c<t[0].length?t[n][c]=this.playerNumber:t[0][0]=9);return 0===this.previousMatrixPosition.length?this.previousMatrixPosition=t.splice(0):this.myTurn||(this.previousMatrixPosition=t.splice(0)),this.matrixEqual(this.previousMatrixPosition,t)&&(t[0][0]=8),t},i.prototype.matrixEqual=function(t,i){if(t===i)return!0;if(null==t||null==i)return!1;if(t.length!=i.length)return!1;for(var s=0;s<t.length;++s)if(!this.arraysEqual(t[s],i[s]))return!1;return!0},i.prototype.arraysEqual=function(t,i){if(t===i)return!0;if(null==t||null==i)return!1;if(t.length!=i.length)return!1;for(var s=0;s<t.length;++s)if(t[s]!==i[s])return!1;return!0},i.prototype.rotate=function(){this.rotation<3?this.rotation++:this.rotation=0},i.prototype.invert=function(){this.inverted=!this.inverted},i.prototype.moveRight=function(){this.x+=this.size},i.prototype.moveLeft=function(){this.x-=this.size},i.prototype.moveDown=function(){this.y+=this.size},i.prototype.moveUp=function(){this.y-=this.size},i}();exports.default=i;
},{"../managers/colorManager":"s2B3"}],"dzv8":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var t=require("../managers/colorManager"),i=function(){function i(t){this.selected=!1,this.active=!1,this.coinNumber=0,this.matrixPosition=[],this.context=t.context,this.x=t.x,this.y=t.y,this.size=t.size,this.color=t.color,this.coinNumber=t.coinNumber}return i.prototype.update=function(){this.draw(),this.matrixPosition=this.calculatePositionOnMatrix()},i.prototype.draw=function(){this.context.beginPath(),this.context.rect(this.x,this.y,this.size,this.size),this.context.closePath(),this.active?this.context.fillStyle=this.color:this.context.fillStyle=t.darken(this.color,10),this.context.fill()},i.prototype.calculatePositionOnMatrix=function(){var t=[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]],i=this.y/this.size,e=this.x/this.size;return i>=0&&i<t.length&&e>=0&&e<t[0].length?t[i][e]=this.coinNumber:t[0][0]=9,t},i.prototype.moveRight=function(){this.x+=this.size},i.prototype.moveLeft=function(){this.x-=this.size},i.prototype.moveDown=function(){this.y+=this.size},i.prototype.moveUp=function(){this.y-=this.size},i}();exports.default=i;
},{"../managers/colorManager":"s2B3"}],"wX7z":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var t=function(){function t(t){this.context=t.context,this.x=t.x,this.y=t.y,this.size=t.size,this.color=t.color}return t.prototype.update=function(){this.draw()},t.prototype.draw=function(){this.context.beginPath(),this.context.rect(this.x,this.y,4*this.size,4*this.size),this.context.closePath(),this.context.fillStyle=this.color,this.context.fill()},t}();exports.default=t;
},{}],"JkrS":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=function(){function e(e){this.switch=!1,this.destroyed=!1,this.gameOver=!1,this.gameManager=e,document.onkeydown=this.checkInputs.bind(this)}return e.prototype.checkInputs=function(e){var t=this;this.destroyed||this.gameOver||(e=e||window.event,this.gameManager.selectingCoin||this.gameManager.coinRound?this.gameManager.coinRound?this.gameManager.coins.forEach(function(o){o.active&&("38"==e.keyCode?o.moveUp():"40"==e.keyCode?o.moveDown():"37"==e.keyCode?o.moveLeft():"39"==e.keyCode?o.moveRight():"13"==e.keyCode&&(t.switch=!0))}):"37"==e.keyCode?this.gameManager.changeActiveCoin():"39"==e.keyCode?this.gameManager.changeActiveCoin():"13"==e.keyCode&&(this.switch=!0):this.gameManager.players.forEach(function(o){o.myTurn&&("38"==e.keyCode?o.moveUp():"40"==e.keyCode?o.moveDown():"37"==e.keyCode?o.moveLeft():"39"==e.keyCode?o.moveRight():"32"==e.keyCode?o.rotate():"17"==e.keyCode?o.invert():"13"==e.keyCode&&(t.switch=!0))}),this.switch&&(this.switch=!1,this.gameManager.changeGameState()))},e.prototype.destroy=function(){this.destroyed=!0},e.prototype.setGameOver=function(){this.gameOver=!0},e}();exports.default=e;
},{}],"M9H0":[function(require,module,exports) {
"use strict";var t=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(exports,"__esModule",{value:!0});var e,i=t(require("./inputManager"));!function(t){t[t.outOfBoard=9]="outOfBoard",t[t.samePositionAsBefore=8]="samePositionAsBefore"}(e||(e={}));var r=function(){function t(t,e,r,o,n,s){this.players=[],this.coinRound=!1,this.selectingCoin=!1,this.coins=[],this.turnElement=document.getElementById("turn"),this.errorsElement=document.getElementById("errors"),this.timerElement=document.getElementById("timer"),this.errorMessage="",this.showingError=!1,this.boardMatrix=[[3,1,1,0],[0,2,1,0],[0,2,1,0],[0,2,2,4]],this.maxTime=s,this.timeLeft=s,this.timerElement.innerHTML=""+this.maxTime,this.players.push(t),this.players.push(e),this.coins.push(r),this.coins.push(o),this.board=n,this.turnElement.innerHTML="Turn: Player "+(this.players[0].myTurn?"1":"2"),this.inputManager=new i.default(this),this.timerController()}return t.prototype.activateCoinSelection=function(){this.selectingCoin=!0,this.coins[0].active=!0},t.prototype.activateCoinRound=function(){this.selectingCoin=!1,this.coinRound=!0},t.prototype.finishCoinRound=function(){this.coinRound=!1,this.coins[0].active=!1,this.coins[1].active=!1},t.prototype.switchTurns=function(){this.resetTimer(),this.players[0].myTurn=!this.players[0].myTurn,this.players[1].myTurn=!this.players[1].myTurn,this.turnElement.innerHTML="Turn: Player "+(this.players[0].myTurn?"1":"2")},t.prototype.validMove=function(){var t=this,i=!0;return this.selectingCoin||(this.coinRound?this.coins.forEach(function(r){if(r.active)if(r.matrixPosition[0][0]===e.outOfBoard)i=!1,t.errorMessage="Coin is out of the board!";else for(var o=0;o<t.boardMatrix.length;o++)for(var n=0;n<t.boardMatrix[0].length;n++)r.matrixPosition[o][n]===r.coinNumber&&0!==t.boardMatrix[o][n]&&t.boardMatrix[o][n]!==r.coinNumber&&(i=!1,t.errorMessage="Invalid move!")}):this.players.forEach(function(r){if(r.myTurn)if(r.matrixPosition[0][0]===e.outOfBoard)i=!1,t.errorMessage="Player out of the board!";else if(r.matrixPosition[0][0]===e.samePositionAsBefore)i=!1,t.errorMessage="You must move your piece!";else for(var o=0;o<t.boardMatrix.length;o++)for(var n=0;n<t.boardMatrix[0].length;n++)r.matrixPosition[o][n]===r.playerNumber&&0!==t.boardMatrix[o][n]&&t.boardMatrix[o][n]!==r.playerNumber&&(i=!1,t.errorMessage="Invalid move!")}),console.log("valid move: "+i)),i?this.errorMessage="":this.showError(),i},t.prototype.updateBoardMatrix=function(){var t=this;this.selectingCoin||(this.coinRound?(this.coins.forEach(function(e){if(e.active){for(var i=0;i<t.boardMatrix.length;i++)for(var r=0;r<t.boardMatrix[0].length;r++)t.boardMatrix[i][r]===e.coinNumber&&(t.boardMatrix[i][r]=0);for(i=0;i<t.boardMatrix.length;i++)for(r=0;r<t.boardMatrix[0].length;r++)e.matrixPosition[i][r]===e.coinNumber&&(t.boardMatrix[i][r]=e.coinNumber)}}),console.log("placed coin")):(this.players.forEach(function(e){if(e.myTurn){for(var i=0;i<t.boardMatrix.length;i++)for(var r=0;r<t.boardMatrix[0].length;r++)t.boardMatrix[i][r]===e.playerNumber&&(t.boardMatrix[i][r]=0);for(i=0;i<t.boardMatrix.length;i++)for(r=0;r<t.boardMatrix[0].length;r++)e.matrixPosition[i][r]===e.playerNumber&&(t.boardMatrix[i][r]=e.playerNumber)}}),console.log("placed player")),console.log(this.boardMatrix))},t.prototype.showError=function(){var t=this;this.errorsElement.innerHTML=this.errorMessage,this.showingError||(this.showingError=!0,this.errorsElement.style.opacity="1",this.errorsElement.classList.add("fade-out"),setTimeout(function(){t.showingError=!1,t.errorsElement.classList.remove("fade-out"),t.errorsElement.style.opacity="0"},2e3))},t.prototype.timerController=function(){var t=this;this.countdownTimer=setInterval(function(){t.timerElement.innerHTML=""+t.timeLeft,t.timeLeft-=1,t.timeLeft<0&&t.gameOverNoTime()},1e3)},t.prototype.gameOverNoTime=function(){clearInterval(this.countdownTimer),this.turnElement.innerHTML="WINNER: Player "+(this.players[0].myTurn?"2":"1"),this.inputManager.setGameOver()},t.prototype.resetTimer=function(){clearInterval(this.countdownTimer),this.timeLeft=this.maxTime,this.timerController()},t.prototype.deleteTimer=function(){this.timerElement.innerHTML=""+this.maxTime,clearInterval(this.countdownTimer)},t.prototype.changeGameState=function(){this.validMove()&&(this.updateBoardMatrix(),this.coinRound?(this.finishCoinRound(),this.switchTurns()):this.selectingCoin?this.activateCoinRound():this.activateCoinSelection())},t.prototype.changeActiveCoin=function(){this.coins.forEach(function(t){t.active=!t.active})},t.prototype.destroy=function(){this.deleteTimer(),this.players=null,this.coinRound=null,this.selectingCoin=null,this.coins=null,this.board=null,this.turnElement=null,this.errorsElement=null,this.timerElement=null,this.errorMessage=null,this.maxTime=null,this.timeLeft=null,this.countdownTimer=null,this.showingError=null,this.inputManager.destroy(),this.inputManager=null,this.boardMatrix=null},t}();exports.default=r;
},{"./inputManager":"JkrS"}],"dTD0":[function(require,module,exports) {
"use strict";var e=this&&this.__extends||function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function r(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(r.prototype=o.prototype,new r)}}(),t=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0});var o=t(require("./sceneBase")),r=t(require("../objects/player")),n=t(require("../objects/coin")),i=t(require("../objects/board")),a=t(require("../managers/gameManager")),l=function(t){function o(e){var o=t.call(this,e.context,e.name,e.active)||this;return o.slotSize=90,o.maxTime=25,o.destroyed=!1,o.board=new i.default({context:o.context,x:0,y:0,size:o.slotSize,color:"#bdc3c7"}),o.player1=new r.default({context:o.context,x:o.slotSize,y:0,size:o.slotSize,color:"#2ecc71",myTurn:!0,playerNumber:1}),o.player2=new r.default({context:o.context,x:o.slotSize,y:o.slotSize,size:o.slotSize,color:"#e74c3c",myTurn:!1,playerNumber:2}),o.player2.rotate(),o.player2.rotate(),o.player2.moveLeft(),o.coin1=new n.default({context:o.context,x:0,y:0,size:o.slotSize,color:"#f1c40f",coinNumber:3}),o.coin2=new n.default({context:o.context,x:3*o.slotSize,y:3*o.slotSize,size:o.slotSize,color:"#f1c40f",coinNumber:4}),o.gameManager=new a.default(o.player1,o.player2,o.coin1,o.coin2,o.board,o.maxTime),o}return e(o,t),o.prototype.update=function(){this.destroyed||(this.board.update(),this.player1.update(),this.player2.update(),this.coin1.update(),this.coin2.update())},o.prototype.destroy=function(){this.destroyed=!0,this.gameManager.destroy(),this.gameManager=null,this.board=null,this.player1=null,this.player2=null,this.coin1=null,this.coin2=null,this.slotSize=null,this.destroyed=null,this.maxTime=null},o}(o.default);exports.default=l;
},{"./sceneBase":"YKIE","../objects/player":"Ycs7","../objects/coin":"dzv8","../objects/board":"wX7z","../managers/gameManager":"M9H0"}],"B6dB":[function(require,module,exports) {
"use strict";var e=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0});var t=e(require("./scenes/gameScene")),n=function(){function e(){var e=this;this.playBtn=document.getElementById("goToGame"),this.exitBtn=document.getElementById("goToHome"),this.scenes=[],this.inGame=!1,this.playBtn.onclick=function(){e.goToGame()},this.exitBtn.onclick=function(){e.goToHome()},this.canvas=document.getElementById("gameCanvas"),this.context=this.canvas.getContext("2d"),window.requestAnimationFrame(function(){return e.update()})}return e.prototype.addGameScene=function(){this.scenes.push(new t.default({context:this.context,name:"game",active:!0}))},e.prototype.removeGameScene=function(){this.scenes.forEach(function(e,t,n){"game"===e.name&&(e.destroy(),e=null,n.splice(t,1))})},e.prototype.update=function(){var e=this;this.context.clearRect(0,0,this.canvas.width,this.canvas.height),this.scenes.forEach(function(e){e.active&&e.update()}),window.requestAnimationFrame(function(){return e.update()})},e.prototype.goToGame=function(){document.getElementById("homePage").style.display="none",document.getElementById("gamePage").style.display="block",this.addGameScene()},e.prototype.goToHome=function(){document.getElementById("gamePage").style.display="none",document.getElementById("homePage").style.display="block",this.removeGameScene()},e}();window.onload=function(){new n};
},{"./scenes/gameScene":"dTD0"}]},{},["B6dB"], null)
//# sourceMappingURL=/src.a76103e3.js.map